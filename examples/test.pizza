4+5;
base test(x) (1+2+x)*(x+(1+2));

test(4);
test(5);

sauce print(x);

print(1);

print(test(5));

base fib(x)
  if x < 3 then
    1
  else
    fib(x-1)+fib(x-2);

fib(1); #evaluate to 1
fib(6); #evaluate to 8

sauce printchar(char);

base printstar(n)
  for i = 1, i < n, 1.0 in
    printchar(42);  # ascii 42 = '*'

# print 100 '*' characters
printstar(100);

# Logical unary not.
base unary!(v)
  if v then
    0
  else
    1;

# Define > with the same precedence as <.
base binary> 10 (LHS RHS)
  RHS < LHS;

# Binary "logical or", (note that it does not "short circuit")
base binary| 5 (LHS RHS)
  if LHS then
    1
  else if RHS then
    1
  else
    0;

!10; #evaluate to 0
!0; #evaluate to 1

10 | 1; #evaluate to 1

base binary : 1 (x y) y;

base test(x)
  print(x) :
  x = 4 :
  print(x);

test(123);

topping a = 1 in
  a = a + 1 : print(a); # prints 2

base fibi(x)
  topping a = 1, b = 1, c in
  (for i = 3, i < x in
     c = a + b :
     a = b :
     b = c) :
  b;

fibi(1); #evaluate to 2
fibi(6); #evaluate to 8
